# 오류 코드 참조 문서

이 문서는 백엔드 API에서 반환될 수 있는 모든 오류 코드와 그 의미를 설명합니다. 프론트엔드 개발 시 오류 처리에 참고하세요.

## 성공 코드

| 코드 | 상태 | 설명 |
|------|------|------|
| 1000 | 200 (OK) | 요청에 성공하였습니다. |

## 요청 오류 (2000번대)

| 코드 | 상태 | 설명 |
|------|------|------|
| 2000 | 400 (BAD_REQUEST) | 유효하지 않은 요청입니다. |
| 2001 | 400 (BAD_REQUEST) | 유효하지 않은 URL 입니다. |
| 2002 | 405 (METHOD_NOT_ALLOWED) | 해당 URL에서는 지원하지 않는 HTTP Method 입니다. |
| 2003 | 400 (BAD_REQUEST) | request body 양식에 문제가 있습니다 |
| 2004 | 400 (BAD_REQUEST) | URL에 포함된 SPACE_ID 값이 잘못되었습니다. |
| 2005 | 400 (BAD_REQUEST) | URL에 포함된 SPACE_ID 값이 없습니다 |

## 서버 오류 (3000번대)

| 코드 | 상태 | 설명 |
|------|------|------|
| 3000 | 500 (INTERNAL_SERVER_ERROR) | 서버에서 오류가 발생하였습니다. |
| 3001 | 500 (INTERNAL_SERVER_ERROR) | 데이터베이스에서 오류가 발생하였습니다. |
| 3002 | 500 (INTERNAL_SERVER_ERROR) | SQL에 오류가 있습니다. |

## 인증 오류 (4000번대)

| 코드 | 상태 | 설명 |
|------|------|------|
| 4000 | 401 (UNAUTHORIZED) | JWT에서 오류가 발생하였습니다. |
| 4001 | 401 (UNAUTHORIZED) | 토큰이 HTTP Header에 없습니다. |
| 4002 | 401 (UNAUTHORIZED) | 지원되지 않는 토큰 형식입니다. |
| 4003 | 401 (UNAUTHORIZED) | 유효하지 않은 토큰입니다. |
| 4004 | 401 (UNAUTHORIZED) | 토큰이 올바르게 구성되지 않았습니다. |
| 4005 | 401 (UNAUTHORIZED) | 만료된 access token 입니다. |
| 4006 | 401 (UNAUTHORIZED) | 저장된 refresh token 과 전달받은 refresh token 이 일치하지 않습니다. 다시 로그인해야합니다. |
| 4007 | 401 (UNAUTHORIZED) | 토큰의 userId정보를 찾을 수 없습니다. |
| 4008 | 401 (UNAUTHORIZED) | JWT 서명이 잘못 되었습니다. |
| 4009 | 401 (UNAUTHORIZED) | 만료된 refresh token 입니다. 다시 로그인해야합니다. |
| 4010 | 401 (UNAUTHORIZED) | 디스코드 서버에서 access token 발급이 실패하였습니다. |
| 4011 | 404 (NOT_FOUND) | 디스코드 계정의 정보를 가져오는 데에 실패하였습니다. |
| 4012 | 401 (UNAUTHORIZED) | 유효하지 않은 refresh token입니다. |

## 사용자 오류 (5000번대)

| 코드 | 상태 | 설명 |
|------|------|------|
| 5000 | 400 (BAD_REQUEST) | 회원가입 요청에서 잘못된 값이 존재합니다. |
| 5001 | 400 (BAD_REQUEST) | 이미 존재하는 이메일입니다. |
| 5002 | 400 (BAD_REQUEST) | 이미 존재하는 닉네임입니다. |
| 4003 | 404 (NOT_FOUND) | 존재하지 않는 회원입니다. |
| 4004 | 400 (BAD_REQUEST) | 비밀번호가 일치하지 않습니다. |
| 4005 | 400 (BAD_REQUEST) | 잘못된 회원 status 값입니다. |
| 4006 | 404 (NOT_FOUND) | 존재하지 않는 이메일입니다. |
| 4007 | 400 (BAD_REQUEST) | 로그인 요청에서 잘못된 값이 존재합니다. |

## 스페이스 오류 (6000번대)

| 코드 | 상태 | 설명 |
|------|------|------|
| 6000 | 400 (BAD_REQUEST) | 스페이스 생성 요청에서 잘못된 값이 존재합니다. |
| 6001 | 404 (NOT_FOUND) | 존재하지 않는 스페이스입니다. |
| 6002 | 400 (BAD_REQUEST) | 스페이스 별 유저 프로필 정보 수정 요청에서 잘못된 값이 존재합니다. |
| 6003 | 400 (BAD_REQUEST) | 스페이스 가입 요청에서 잘못된 값이 존재합니다. |
| 6007 | 400 (BAD_REQUEST) | 이미 등록된 SPACE입니다 |

## 스페이스 멤버 오류 (7000번대)

| 코드 | 상태 | 설명 |
|------|------|------|
| 7000 | 404 (NOT_FOUND) | 해당 스페이스에 속하지 않는 유저입니다. |
| 7001 | 403 (FORBIDDEN) | 해당 스페이스에 관리자 권한이 없는 유저입니다. |
| 7002 | 400 (BAD_REQUEST) | 해당 스페이스에 이미 가입되어 있는 유저입니다 |
| 7003 | 404 (NOT_FOUND) | 존재하지 않는 스페이스 멤버입니다. |

## 파일 변환 오류 (8000번대, 9000번대)

| 코드 | 상태 | 설명 |
|------|------|------|
| 8002 | 500 (INTERNAL_SERVER_ERROR) | base64 파일 변환 과정에서 문제가 생겼습니다. |
| 9000 | 415 (UNSUPPORTED_MEDIA_TYPE) | 지원되는 이미지 파일의 형식이 아닙니다. |
| 9001 | 500 (INTERNAL_SERVER_ERROR) | multipartFile memory 변환 과정에서 문제가 생겼습니다. |
| 9002 | 415 (UNSUPPORTED_MEDIA_TYPE) | 지원되는 문서 파일의 형식이 아닙니다. |
| 9003 | 415 (UNSUPPORTED_MEDIA_TYPE) | 지원되는 첨부파일 형식이 아닙니다. |

## 게시판/게시글 오류 (11000번대)

| 코드 | 상태 | 설명 |
|------|------|------|
| 11000 | 400 (BAD_REQUEST) | 게시판 생성 요청에서 잘못된 값이 존재합니다. |
| 11001 | 400 (BAD_REQUEST) | 게시글 생성 요청에서 잘못된 값이 존재합니다. |
| 11002 | 404 (NOT_FOUND) | 존재하지 않는 게시판 id입니다. |
| 11003 | 404 (NOT_FOUND) | 존재하지 않는 post base id입니다. |
| 11004 | 400 (BAD_REQUEST) | 게시글 수정 요청에서 잘못된 값이 존재합니다. |
| 11005 | 400 (BAD_REQUEST) | 해당 게시판의 태그는 필수입니다. |
| 11002 | 404 (NOT_FOUND) | 해당 게시글은 이 스페이스에 속하지 않습니다. |
| 11003 | 400 (BAD_REQUEST) | 해당 게시글에 이미 좋아요를 눌렀습니다. |
| 11003 | 400 (BAD_REQUEST) | 유저가 해당 게시글에 좋아요를 누르지 않았습니다. |
| 11004 | 404 (NOT_FOUND) | 존재하지 않는 댓글 id입니다. |
| 11005 | 400 (BAD_REQUEST) | 해당 댓글에 이미 좋아요를 눌렀습니다. |
| 11006 | 400 (BAD_REQUEST) | 유저가 해당 댓글에 좋아요를 누르지 않았습니다. |
| 11007 | 400 (BAD_REQUEST) | 대댓글 작성 시 targetId가 필요합니다 |
| 11008 | 400 (BAD_REQUEST) | 댓글 작성 시 targetId는 허용되지 않습니다 |
| 11009 | 404 (NOT_FOUND) | 해당 댓글이 이 게시글에 속하지 않습니다. |
| 11010 | 400 (BAD_REQUEST) | 댓글 생성 요청에서 잘못된 값이 존재합니다. |
| 11011 | 404 (NOT_FOUND) | 존재하지 않는 게시글 입니다. |
| 11012 | 404 (NOT_FOUND) | 현재 스페이스에는 해당 게시판이 존재하지 않습니다. |
| 11013 | 404 (NOT_FOUND) | 현재 게시판에는 해당 게시글이 존재하지 않습니다. |
| 11014 | 400 (BAD_REQUEST) | 해당 글은 익명으로 작성할 수 없습니다. |
| 11015 | 400 (BAD_REQUEST) | 댓글 수정 요청에서 잘못된 값이 존재합니다. |
| 11016 | 400 (BAD_REQUEST) | 댓글 생성자가 본인과 일치하지 않습니다. |
| 11017 | 404 (NOT_FOUND) | 해당 게시판을 찾지 못했습니다 |
| 11018 | 404 (NOT_FOUND) | 정산 게시판을 찾지 못했습니다. |
| 11019 | 400 (BAD_REQUEST) | 게시판 구독 등록/취소 요청에서 잘못된 값이 존재합니다. |
| 11020 | 404 (NOT_FOUND) | 태그를 찾지 못했습니다. |
| 11021 | 400 (BAD_REQUEST) | 해당 사용자가 구독하지 않은 게시판입니다. |
| 11022 | 400 (BAD_REQUEST) | 해당 사용자가 이미 구독한 게시판입니다. |
| 11019 | 404 (NOT_FOUND) | 존재하지 않는 좋아요 입니다. |
| 11020 | 400 (BAD_REQUEST) | 좋아요 on/off 요청에서 잘못된 값이 존재합니다. |
| 11021 | 409 (CONFLICT) | 생성 중인 tag 들의 board가 같지 않습니다 |

## 정산 오류 (12000번대)

| 코드 | 상태 | 설명 |
|------|------|------|
| 12000 | 400 (BAD_REQUEST) | 정산 생성 요청에서 잘못된 값이 존재합니다. |
| 12001 | 400 (BAD_REQUEST) | 정산 생성자와 정산 요청 대상자가 같은 스페이스에 속해 있지 않습니다. 정산 요청은 같은 스페이스 멤버에게만 가능합니다. |
| 12003 | 400 (BAD_REQUEST) | 정산 요청 금액들의 합과 정산 요청 총 금액이 일치하지 않습니다. |
| 12004 | 400 (BAD_REQUEST) | 정산 요청 금액들 중 1/N 정산 정책에 위배되는 값이 있습니다. |
| 12005 | 404 (NOT_FOUND) | 존재하지 않는 정산입니다. |
| 12006 | 404 (NOT_FOUND) | 존재하지 않는 정산 요청 대상 입니다 |
| 12007 | 500 (INTERNAL_SERVER_ERROR) | 현재 정산 요청은 정산 요청 대상이 없습니다. 현재 정산 생성 시 서버에 문제가 있었습니다. |
| 12008 | 400 (BAD_REQUEST) | 정산 요청 타겟 id의 타겟 유저가 본인과 일치하지 않습니다. 본인의 정산에 대해서만 완료처리를 할 수 있습니다. |
| 12009 | 409 (CONFLICT) | discord role 생성에 실패했습니다. |
| 12010 | 409 (CONFLICT) | discord channel 생성에 실패했습니다. |
| 12011 | 400 (BAD_REQUEST) | 정산 요청 대상자가 본인과 일치하지 않습니다. |
| 12012 | 400 (BAD_REQUEST) | 정산 생성자가 본인과 일치하지 않습니다. |

## 이벤트 오류 (13000번대)

| 코드 | 상태 | 설명 |
|------|------|------|
| 13000 | 400 (BAD_REQUEST) | 행사 생성 요청에서 잘못된 값이 존재합니다. |
| 13001 | 404 (NOT_FOUND) | 존재하지 않는 행사입니다. |
| 13002 | 400 (BAD_REQUEST) | 해당 사용자가 이미 참여한 행사입니다. |
| 13003 | 400 (BAD_REQUEST) | 해당 사용자가 이미 참여를 취소한 행사입니다. |
| 13004 | 404 (NOT_FOUND) | 존재하지 않는 행사 참여자입니다. |

## 디스코드 오류 (14000번대)

| 코드 | 상태 | 설명 |
|------|------|------|
| 14000 | 500 (INTERNAL_SERVER_ERROR) | discord API에서 오류가 발생했습니다 |
| 14001 | 500 (INTERNAL_SERVER_ERROR) | discord API에서 오류가 발생했습니다 |
| 14002 | 404 (NOT_FOUND) | discord channel을 찾지 못했습니다 |
| 14003 | 404 (NOT_FOUND) | discord Guild를 찾지 못했습니다 |
| 14004 | 404 (NOT_FOUND) | discord channel type이 forum/test 가 아닙니다 |

## 인증 관련 오류 처리 가이드

인증 관련 오류(4000번대)가 발생했을 때 프론트엔드에서 처리해야 할 내용:

1. **토큰 없음 (4001)**: 사용자를 로그인 페이지로 리다이렉트
2. **토큰 만료 (4005, 4009)**:
   - access token 만료 시 refresh token으로 갱신 시도
   - refresh token 만료 시 사용자를 로그인 페이지로 리다이렉트
3. **유효하지 않은 토큰 (4003, 4004, 4008, 4012)**: 로컬 스토리지의 토큰 삭제 후 로그인 페이지로 리다이렉트

특히 4001 코드 발생 시, 현재 경로를 저장하고 로그인 후 해당 경로로 다시 리다이렉트하는 기능을 구현하면 사용자 경험을 향상시킬 수 있습니다.
