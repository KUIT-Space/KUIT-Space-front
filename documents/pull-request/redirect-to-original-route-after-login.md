# 인증되지 않은 오류 발생 시 원래 경로로 리다이렉트 구현

## 문제 상황
현재 애플리케이션에서는 인증되지 않은 오류(Unauthorized Error)가 발생하면 사용자를 로그인 페이지(`/discordlogin`)로 리다이렉트합니다. 그러나 로그인 성공 후에는 항상 홈 페이지(`/`)로 이동하여, 사용자가 원래 접근하려던 페이지로 돌아가지 않는 문제가 있습니다.

## 해결 방안
OAuth 흐름을 고려할 때 가장 효과적인 방법은 localStorage를 사용하여 원래 경로를 저장하는 것입니다.

### 구현 단계:

1. **원래 경로 저장하기**
   - `GlobalErrorFallback` 컴포넌트에서 인증되지 않은 오류 발생 시 현재 경로를 localStorage에 저장
   - 사용자를 `/discordlogin` 페이지로 리다이렉트

2. **저장된 경로로 리다이렉트하기**
   - `DiscordOAuthCallback` 컴포넌트에서 로그인 성공 후 localStorage에서 저장된 경로를 확인
   - 저장된 경로가 있으면 해당 경로로 리다이렉트, 없으면 홈 페이지(`/`)로 이동
   - 사용 후 localStorage에서 해당 정보 삭제하여 정리

### 다른 접근 방식 검토:

1. **React Router의 state 사용**
   - 장점: React Router와 잘 통합됨
   - 단점: 외부 서비스(Discord)로 리다이렉트되는 OAuth 흐름에서 상태가 유지되지 않음

2. **URL 검색 매개변수 사용**
   - 장점: URL에 표시되어 디버깅이 쉬움
   - 단점: OAuth 흐름에서 여전히 localStorage가 필요하며, URL에 민감한 경로 정보가 노출됨

3. **OAuth state 매개변수 사용**
   - 장점: OAuth 프로토콜의 기본 메커니즘 활용
   - 단점: 구현이 복잡하고 state 매개변수 크기 제한이 있음

## 결론
OAuth 흐름의 특성상 localStorage를 사용하는 방법이 가장 간단하고 신뢰할 수 있는 해결책입니다. 이 방법은 외부 서비스로의 리다이렉트와 콜백 과정에서도 원래 경로 정보를 안정적으로 유지할 수 있습니다.
